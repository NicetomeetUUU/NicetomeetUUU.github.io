---
title: "2.1 创建型模式之——单例模式"
date: 2024-03-12
description: "单例模式，通过调用类静态成员函数操作唯一的实例"
type: "post"
tags: ["设计模式","blogs"]
---

## 1. 单例模式概述：
- 核⼼思想是保证⼀个类只有⼀个实例，并提供⼀个全局访问点来访问这个实例；
- 全局访问点通常就是一个静态的方法；
### 单例模式的好处：
- 懒加载：需要时才实例化对象，提高性能；
- 全局控制：一个实例，方便控制用户对该实例的访问
- 节省资源：避免重复创建实例，且不同模块间可以通过单例共享部分资源；
### 基本要求：
- 私有的构造函数：
- 私有的静态实例变量
- 共有的静态方法

## 2. 单例模式创建：
- 单例模式的实现⽅式有多种，包括懒汉式、饿汉式等。
    - 饿汉式指的是在类加载时就已经完成了实例的创建，不管后⾯创建的实例有没有使⽤，先创建再说，所以叫做“饿汉”。
    - 懒汉式指的是只有在请求实例时才会创建，如果在⾸次请求时还没有创建，就创建⼀个新的实例，如果已经创建，就返回已有的实例，意思就是需要使⽤了再创建，所以称为“懒汉”。

### 饿汉式创建：
```c++
#include<iostream>
class singleton{
    private:
        static singleton* instance;
        int m_data;
        singleton(int data=0): m_data(data){}

    public:
        static singleton& getinstance(){
            return instance;
        }
};
singleton A, A::singleton(12);
```